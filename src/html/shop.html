<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="copyright" content="">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title></title>
    <link rel="icon" href="./images/fav.png">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/shop.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
</head>
<body class="">
<div class="layout">
    <header>
        <div class="container">
            <div class="header-in">
                <a href="" class="logo"><img src="./images/logo.png" alt="logo"></a>
                <button class="open-page-menu" aria-label="open menu">
                    <div class="menu-mob"><span></span></div>
                </button>
                <nav class="nav">
                    <div class="nav-container">
                        <div class="nav-container-in">
                            <ul class="ul-h1">
                                <li class="has-drop arr-down">
                                    <a href="">Services
                                    </a>
                                    <div class="submenu">
                                        <ul>
                                            <li><a href="">Moving</a></li>
                                            <li><a href="">Delivery</a></li>
                                            <li><a href="">Removal & Cleaning of building waste</a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li><a href="">Advices</a></li>
                            </ul>
                            <ul class="ul-h2">
                                <li>
                                    <a href="tel:+15147094588" target="_self" class="nav-link">
                                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="phone"
                                             role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                                             class="pr-1 svg-inline--fa fa-phone">
                                            <path fill="currentColor"
                                                  d="M511.2 387l-23.25 100.8c-3.266 14.25-15.79 24.22-30.46 24.22C205.2 512 0 306.8 0 54.5c0-14.66 9.969-27.2 24.22-30.45l100.8-23.25C139.7-2.602 154.7 5.018 160.8 18.92l46.52 108.5c5.438 12.78 1.77 27.67-8.98 36.45L144.5 207.1c33.98 69.22 90.26 125.5 159.5 159.5l44.08-53.8c8.688-10.78 23.69-14.51 36.47-8.975l108.5 46.51C506.1 357.2 514.6 372.4 511.2 387z"
                                                  class=""></path>
                                        </svg>
                                        514-709-4588
                                    </a>
                                </li>
                                <li><a href="" class="log-in">Log in</a></li>
                                <li>
                                    <div class="language arr-down">
                                        <div class="cur_lang">
                                            <span class="eng"><span>Eng</span></span>
                                        </div>
                                        <ul class="lang-list">
                                            <li><a href="" class="eng"><span>Eng</span></a></li>
                                            <li><a href="" class="fr"><span>Fr</span></a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="content">

            <div class="td-shop-page custom-padding">
                <div class="shop-in">
                    <div class="shop-left">
                        <h2 class="text-center mb-20">Shop</h2>
                        <p class="text-center">Send few invites and start earning <a href="">TD-coins</a>
                            Exchange TD-coins for a various <a href="">rewards</a></p>
                       <div class="flex items-center coins-d"><p>Available Td-coins: </p><div class="coins-block"><img src="/images/coins.svg" alt=""><span id="available-coins">20</span></div></div>
                        <div class="shop-list">
                            <div class="shop-item">
                                <div class="shop-item-img loading-anim"></div>
                                <div class="shop-item-name loading-anim"><p>TransportDomus prooduct</p></div>
                                <div class="shop-item-price loading-anim"><p>00</p></div>
                                <div class="shop-item-add loading-anim"><a href="" class="btn">Request 1 item</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="shop-cart">
                        <div class="shop-cart-in">
                            <h2 class="text-center mb-20">Get Rewards</h2>
                            <div class="cart-list">
                                <div class="empty-cart">
                                    <p>No chosen rewards</p>
                                </div>
                                <div class="cart-item">
                                    <div class="cart-item-img"><img src="./images/moving.jpg" alt=""></div>
                                    <div class="cart-item-count"><span>1</span></div>
                                    <div class="cart-item-price"><p>20</p></div>
                                    <div class="cart-item-delete">
                                        <button class="delete-item"><img
                                                src="/images/trash.svg" alt="Delete"></button>
                                    </div>
                                </div>
                                <div class="cart-item">
                                    <div class="cart-item-img"><img src="./images/moving.jpg" alt=""></div>
                                    <div class="cart-item-count"><span>1</span></div>
                                    <div class="cart-item-price"><p>20</p></div>
                                    <div class="cart-item-delete">
                                        <button class="delete-item"><img
                                                src="/images/trash.svg" alt="Delete"></button>
                                    </div>
                                </div>

                            </div>
                            <div class="btn-row">
                                <a href="" class="btn">Send Request</a>
                            </div>
                            <div class="pending">
                                <h2 class="text-center mb-20">Pending</h2>
                                <div class="pending-list">

                                </div>
                            </div>
                            <div class="approved">
                                <h2 class="text-center mb-20">Approved</h2>
                                <div class="approved-list">

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="content">

            <div class="td-shop-page custom-padding">
                <div class="shop-in">
                    <div class="shop-left">
                        <h2 class="text-center mb-20">Shop</h2>
                        <p class="text-center">Send few invites and start earning <a href="">TD-coins</a>
                            Exchange TD-coins for a various <a href="">rewards</a></p>
                       <div class="flex items-center coins-d"><p>Available Td-coins: </p><div class="coins-block"><img src="/images/coins.svg" alt=""><span class="loading-anim" id="available-coins">00</span></div></div>
                        <div class="shop-list">
                            <div class="shop-item">
                                <div class="shop-item-img loading-anim"></div>
                                <div class="shop-item-name loading-anim"><p>TransportDomus prooduct</p></div>
                                <div class="shop-item-price loading-anim"><p>00</p></div>
                                <div class="shop-item-add loading-anim"><a href="" class="btn">Request 1 item</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="shop-cart">
                        <div class="shop-cart-in">
                            <h2 class="text-center mb-20">Get Rewards</h2>
                            <div class="cart-list">

                            </div>
                            <div class="btn-row">
                                <a href="" class="btn">Send Request</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        @@include('blocks/footer.html')

        <script>
            onPageInit()
            function onPageInit(){
                renderPage()
            }
            async function renderPage(){
                let data =await getCatalogData();
                console.log(data);
                renderCatalogList(data)
                renderCart(data)
            }
            function renderCart() {

            }
            function renderCatalogList() {

            }


           async function getCatalogData() {
                let lang = getLang()
                let url = "/ajax?command=get-shop&lang="+lang;
                return await doGetRequest("url")
            }
        function getLang(){
          return  $('html').attr('lang').length ? $('html').data('lang') : '';
        }
        function setAvailableCoins(count){
                document.querySelector("#available-coins").innerHTML = count;
        }
            async function doGetRequest(url) {
                const options = {
                    method: 'GET',
                };
                try {
                    const response = await fetch(url, options);
                    const result = await response.text();
                    return result;
                } catch (error) {
                    console.error(error);
                }
            }

        </script>